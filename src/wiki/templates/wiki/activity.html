{% extends "wiki/base.html" %}
{% load wiki_tags i18n sekizai_tags static %}

{% block wiki_contents %}

{% addtoblock "js" %}
<script src="{% static 'wiki/js/activity.js' %}"></script>

{% endaddtoblock %}

<h2>Activity Overview</h2>

<!-- Graph Section -->
<div class="activity-graph">
    <canvas id="activityChart" width="400" height="200"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const activityData = {{ revision_data|safe }};

  const ctx = document.getElementById('activityChart').getContext('2d');
  const activityChart = new Chart(ctx, {
      type: 'line',
      data: {
          labels: activityData.labels,
          datasets: [{
              label: 'Number of Edits',
              data: activityData.data,
              borderColor: '#00A7E3',
              borderWidth: 2,
              fill: false
          }]
      },
      options: {
          responsive: true,
          scales: {
              x: { beginAtZero: true },
              y: { beginAtZero: true }
          }
      }
  });
</script>


{% endblock %}
